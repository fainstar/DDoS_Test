# DDoS 攻擊偵測系統

這個專案使用深度學習方法 (CNN-LSTM) 來偵測 DDoS 攻擊，透過分析網路流量特徵來區分正常流量和異常流量。系統採用了最新的深度學習技術，並結合了多種優化策略，以提供高準確度的攻擊偵測能力。

## 功能特點

- 使用 CNN-LSTM 混合模型進行分類
  - CNN 用於空間特徵提取
  - LSTM 用於時序特徵分析
  - 支援多分類和二分類問題
- 智慧特徵工程
  - 自動移除低方差特徵（閾值：0.01）
  - 自動移除高度相關特徵（閾值：0.95）
  - 自動選擇最重要特徵（保留前 70% 重要特徵）
  - 自動特徵縮放和標準化
- 資料預處理優化
  - 自動處理極端值（基於 IQR）
  - 智能遺漏值填補
  - 自動資料平衡處理
- 完整的模型評估系統
  - 即時訓練指標監控
  - 自動生成評估報告
  - 完整的視覺化分析
- 高效能運算支援
  - CUDA GPU 加速
  - 混合精度訓練
  - 記憶體優化管理
- 自動化訓練流程
  - 智能早停機制（patience=5）
  - 最佳模型自動保存
  - 批次大小自動優化

## 系統需求

- Python 3.8+
- PyTorch 2.0+
- CUDA 支援的 GPU（建議但非必要）
- 8GB+ RAM（建議 16GB 以上）
- 儲存空間：至少 10GB 可用空間

## 安裝步驟

1. 克隆此專案到本地：
```bash
git clone [你的專案URL]
cd DDoS_Test
```

2. 安裝所需套件：
```bash
pip install -r Base/requirements.txt
```

3. 確認 CUDA 環境（選擇性）：
```bash
python test.py
```

## 使用方法

1. 資料準備：
   - 支援的輸入格式：CSV
   - 必要欄位：網路流量特徵 + Label 欄位
   - 建議資料集大小：>100,000 筆記錄
   - 資料放置位置：Data/AllMerged.csv

2. 模型訓練：
```bash
python main.py
```

3. 訓練結果：
   所有訓練結果會自動保存在 Image/ 目錄下：
   - raining_metrics.png：訓練過程指標圖
     - 顯示訓練和驗證的 Loss
     - 顯示準確率、F1、精確率、召回率
   - confusion_matrix.png：混淆矩陣視覺化
   - roc_curve.png：ROC 曲線（二分類問題）
   - gpu_memory.png：GPU 記憶體使用監控圖

## 模型架構

### CNN 部分
- 輸入層：自動適應特徵維度
- 第一卷積層：32 通道，3x1 卷積核
- 第二卷積層：64 通道，3x1 卷積核
- 池化層：MaxPooling，2x1 窗口
- 批次正規化：每個卷積層後

### LSTM 部分
- 雙向 LSTM
- 隱藏層大小：128
- 層數：2
- Dropout：0.3

### 分類器部分
- 全連接層 1：256 -> 128 單元
- 全連接層 2：128 -> 64 單元
- 輸出層：根據分類問題自動調整
- Dropout：0.5（第一層）、0.3（第二層）

## 效能優化技術

### 資料處理優化
- 特徵重要性分析
- 智能批次處理
- 記憶體效率優化
- 資料平衡處理

### 訓練優化
- 學習率：0.001（Adam 優化器）
- 批次大小：256（可調整）
- 早停機制：驗證 F1 分數
- 自動模型檢查點

### 硬體利用優化
- GPU 記憶體監控
- 自動混合精度訓練
- 高效能資料載入器
- 動態記憶體管理

## 常見問題解答

1. 如何處理自定義資料集？
   - 確保資料集為 CSV 格式
   - 包含必要的網路流量特徵
   - Label 欄位必須存在

2. 如何調整模型參數？
   - 主要參數都在 main.py 中
   - 可根據需求調整批次大小和學習率
   - 可調整早停機制的耐心值

3. 如何處理大型資料集？
   - 使用資料分批處理
   - 啟用 GPU 加速
   - 調整批次大小平衡效能

## 維護與更新

本專案持續維護中，定期更新包括：
- 效能優化
- 新特徵支援
- 文檔更新
- 錯誤修復

## 貢獻指南

歡迎提交 Pull Requests 和 Issues：
1. Fork 此專案
2. 創建新的功能分支
3. 提交更改
4. 發起 Pull Request

## 作者

[作者姓名]

## 授權

Apache License 2.0

## 更新日誌

### v1.0.0 (2025-04-25)
- 初始發布
- 實現基本的 DDoS 偵測功能
- 添加完整的視覺化支援
- 支援 GPU 加速訓練